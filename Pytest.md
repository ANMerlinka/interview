# Pytest

> 7 slider - Pytest

1) Что такое Pytest? - фреймворк для автотестов

2) Как Pytest понимает какие тесты ему нужно запустить?

Pytest использует несколько механизмов для определения того, какие тесты нужно запустить.
-  Поиск тестов. В файлах с расширением .py, которые находятся в директориях, указанных в конфигурации (pytest.ini, setup.cfg).
- Шаблоны имён тестов. С помощью ключа -k можно указать шаблон для поиска тестов
- Метки (marks). Тесты можно помечать специальными метками, которые затем можно использовать для выбора тестов
- Выбор тестов из файла. Можно создать файл со списком тестов и передать его Pytest
- Хук-функции. Хук-функции позволяют вмешиваться в процесс выполнения тестов и выбирать их на основе произвольных критериев
- Организация тестов по классам и функциям. Pytest поддерживает организацию тестов в классы и функции
- Области видимости фикстур. Фикстуры могут иметь различные области видимости (function, class, module, session), что влияет на то, когда и как часто они выполняются

3) Что такое Метки?

В Pytest метки используются для пометки тестов с целью их последующего выбора при запуске.

4) Что такое фикстура?

Фикстура (fixture) в контексте Python и популярного фреймворка для тестирования Pytest — это функция, которая предоставляет определённое окружение или контекст для выполнения тестов. Основная задача фикстуры — подготовить необходимые данные и ресурсы перед запуском теста и очистить их после его завершения.

5) Что такое декоратор?

Декораторы — это мощный инструмент в языке программирования Python, который позволяет модифицировать поведение функций или классов без изменения их исходного кода. Декораторы представляют собой функции высшего порядка, то есть функции, которые принимают другие функции в качестве аргументов и возвращают новые функции.

6) Что такое параметризация? Как запустить параметризованный тест?

Параметризация — это техника в тестировании, позволяющая запускать один и тот же тест с различными наборами входных данных. Это значительно упрощает и ускоряет процесс тестирования, особенно при проверке функциональности с разными сценариями использования.

Для параметризации тестов в Pytest используется декоратор @pytest.mark.parametrize

7) Как пропустить test?

В Pytest существует несколько способов пропустить тесты.
-  Пропуск тестов по имени. Вы можете использовать ключ -k для пропуска тестов по имени
- Использование меток (marks). Можно пометить тесты специальной меткой и пропустить их с помощью ключа -m
- Пропуск тестов через хук-функции. Можно создать хук-функцию, которая будет пропускать тесты - pytest -v
- Пропуск тестов по файлам и директориям - pytest -x tests/test_skip/
- Использование конфигурационных файлов. В файле pytest.ini или setup.cfg можно настроить параметры пропуска тестов:
```
[pytest]
markers =
    skip: mark test as skip

[testpaths]
skip = tests/skip/
```
- Пропуск тестов с помощью комментариев
```
import pytest

def test_func1():
    # pytest.skip("Комментарий для пропуска теста")
    pass
```